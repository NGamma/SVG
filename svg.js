/* SVG (c) Robby Kraft, MIT License */
(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.SVG={})})(this,function(a){function b(a,b,d){let e=document.createElementNS(i,"svg");return c(e,a,b,d),e}function c(a,b,c,d){null!=b&&a.setAttributeNS(null,"class",b),null!=c&&a.setAttributeNS(null,"id",c),null!=d&&d.appendChild(a)}function d(a,b){if(null!=b&&b.constructor===Array){let c=b.map(a=>a.constructor===Array?a:[a.x,a.y]).reduce((a,b)=>a+b[0]+","+b[1]+" ","");a.setAttributeNS(null,"points",c)}}function e(a,b,c,e,f,g=0){let h=e/1-e,d=[b-h-g,c-h-g,e+2*h+2*g,f+2*h+2*g].join(" ");a.setAttributeNS(null,"viewBox",d)}function f(a){let b=a.getBoundingClientRect(),c=0==b.width?640:b.width,d=0==b.height?480:b.height;e(a,0,0,c,d)}function g(a){let b=a.getAttribute("viewBox");return null==b?void 0:b.split(" ").map(a=>parseFloat(a))}function h(a,b,c=0,d=0){1e-8>b&&(b=.01);let h=a.createSVGMatrix().translate(c,d).scale(1/b).translate(-c,-d),i=g(a);null==i&&f(a);let j=a.createSVGPoint(),k=a.createSVGPoint();j.x=i[0],j.y=i[1],k.x=i[0]+i[2],k.y=i[1]+i[3];let l=j.matrixTransform(h),m=k.matrixTransform(h);e(a,l.x,l.y,m.x-l.x,m.y-l.y)}const i="http://www.w3.org/2000/svg";var j={line:function(a,b,d,e,f,g,h){let j=document.createElementNS(i,"line");return j.setAttributeNS(null,"x1",a),j.setAttributeNS(null,"y1",b),j.setAttributeNS(null,"x2",d),j.setAttributeNS(null,"y2",e),c(j,f,g,h),j},circle:function(a,b,d,e,f,g){let h=document.createElementNS(i,"circle");return h.setAttributeNS(null,"cx",a),h.setAttributeNS(null,"cy",b),h.setAttributeNS(null,"r",d),c(h,e,f,g),h},polygon:function(a,b,e,f){let g=document.createElementNS(i,"polygon");return d(g,a),c(g,b,e,f),g},bezier:function(a,b,d,e,f,g,h,j,k,l,m){let n=document.createElementNS(i,"path");return n.setAttributeNS(null,"d","M "+a+","+b+" C "+d+","+e+" "+f+","+g+" "+h+","+j),c(n,k,l,m),n},group:function(a,b,d){let e=document.createElementNS(i,"g");return c(e,a,b,d),e},svg:b,addClass:function(a,b){if(null==a)return;let c=a.getAttribute("class");c==null&&(c="");let d=c.split(" ").filter(a=>a!==b);d.push(b),a.setAttributeNS(null,"class",d.join(" "))},removeClass:function(a,b){if(null==a)return;let c=a.getAttribute("class");c==null&&(c="");let d=c.split(" ").filter(a=>a!==b);a.setAttributeNS(null,"class",d.join(" "))},setId:function(a,b){null==a||a.setAttributeNS(null,"id",b)},removeChildren:function(a){for(;a.lastChild;)a.removeChild(a.lastChild)},setAttribute:function(a,b,c){null==a||a.setAttributeNS(null,b,c)},setViewBox:e,getViewBox:g,convertToViewBox:function(a,b,c){let d=a.createSVGPoint();d.x=b,d.y=c;let e=d.matrixTransform(a.getScreenCTM().inverse());var f=[e.x,e.y];return f.x=e.x,f.y=e.y,f},translate:function(a,b,c){let d=g(a);null==d&&f(a),d[0]+=b,d[1]+=c,a.setAttributeNS(null,"viewBox",d.join(" "))},scale:h,setPolygonPoints:d};let k=j.line,l=j.circle,m=j.polygon,n=j.bezier,o=j.group,p=j.svg,q=j.addClass,r=j.removeClass,s=j.setId,t=j.removeChildren,u=j.setAttribute,v=j.setViewBox,w=j.convertToViewBox,x=j.translate,y=j.scale,z=j.setPolygonPoints,A=j.getViewBox;a.line=k,a.circle=l,a.polygon=m,a.bezier=n,a.group=o,a.svg=p,a.addClass=q,a.removeClass=r,a.setId=s,a.removeChildren=t,a.setAttribute=u,a.setViewBox=v,a.getViewBox=A,a.convertToViewBox=w,a.translate=x,a.setPolygonPoints=z,a.scale=y,a.View=function(){let a,b=Array.from(arguments),c=j.svg(),d=1,e=c.createSVGMatrix();const f=function(a,b=0,e=0){d=a,j.scale(c,a,b,e)},g=function(a,b){j.translate(c,a,b)},h=function(a,b,d,e){j.setViewBox(c,a,b,d,e,0)};return document.addEventListener("DOMContentLoaded",function(){let d=b.filter(a=>!isNaN(a)),e=b.filter(a=>a instanceof HTMLElement).shift(),f=b.filter(b=>"string"==typeof b||b instanceof String).map(a=>document.getElementById(a)).shift();if(a=null==e?null==f?document.body:f:e,a.appendChild(c),2<=d.length)c.setAttributeNS(null,"width",d[0]),c.setAttributeNS(null,"height",d[1]),j.setViewBox(c,0,0,d[0],d[1]);else{let a=c.getBoundingClientRect();j.setViewBox(c,0,0,a.width,a.height)}}),{zoom:f,translate:g,setViewBox:h,load:function(b,d){("string"==typeof b||b instanceof String)&&fetch(b).then(a=>a.text()).then(a=>new window.DOMParser().parseFromString(a,"text/xml")).then(b=>{var e,f=b.getElementsByTagName("style")[0];null!=f&&null!=f.childNodes&&0<f.childNodes.length&&(e=parseCSSText(f.childNodes[0].nodeValue));var g=b.getElementsByTagName("svg");if(null==g||0==g.length)throw"error, the svg parser couldn't find an SVG element";a.removeChild(c),c=g[0],a.appendChild(c),null!=d&&d(cp)}),b instanceof HTMLElement&&(console.log("data instanceof HTMLElement"),rootElement=new window.DOMParser().parseFromString(string,"text/xml"))},get scale(){return d},get svg(){return c}}},Object.defineProperty(a,"__esModule",{value:!0})});
